Description: moby/buildkit: disable rootless
 This feature requires commit ad0f5255 from opencontainers/runc,
 which is currently on the master branch and unreleased.
 .
 This patch can be dropped when runc releases a successor of version
 1.0.0-rc5.
Author: Arnaud Rebillout <arnaud.rebillout@collabora.com>
Origin: vendor, Debian
Forwarded: not-needed
Last-Update: 2018-08-01
---
This patch header follows DEP-3: http://dep.debian.net/deps/dep3/
--- a/engine/vendor/github.com/moby/buildkit/executor/runcexecutor/executor.go
+++ b/engine/vendor/github.com/moby/buildkit/executor/runcexecutor/executor.go
@@ -20,9 +20,9 @@
 	"github.com/moby/buildkit/cache"
 	"github.com/moby/buildkit/executor"
 	"github.com/moby/buildkit/executor/oci"
 	"github.com/moby/buildkit/identity"
-	rootlessspecconv "github.com/moby/buildkit/util/rootless/specconv"
+//	rootlessspecconv "github.com/moby/buildkit/util/rootless/specconv"
 	"github.com/moby/buildkit/util/system"
 	"github.com/opencontainers/runtime-spec/specs-go"
 	"github.com/pkg/errors"
 	"github.com/sirupsen/logrus"
@@ -174,11 +174,12 @@
 	if err := setOOMScoreAdj(spec); err != nil {
 		return err
 	}
 	if w.rootless {
-		if err := rootlessspecconv.ToRootless(spec); err != nil {
-			return err
-		}
+return errors.New("not implemented")
+//		if err := rootlessspecconv.ToRootless(spec); err != nil {
+//			return err
+//		}
 	}
 
 	if err := json.NewEncoder(f).Encode(spec); err != nil {
 		return err
